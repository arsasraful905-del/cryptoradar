<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Token Insights | CryptoRadar 24/7</title>
    
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root { --bg: #0b1120; --card: #1e293b; --accent: #38bdf8; --text: #f8fafc; }
        body { background-color: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; margin: 0; padding-bottom: 40px; }
        
        .navbar { background: rgba(15, 23, 42, 0.95); border-bottom: 1px solid rgba(255,255,255,0.1); padding: 12px 0; }
        .logo-placeholder { width: 35px; height: 35px; background: #334155; border-radius: 6px; margin-right: 10px; display: inline-block; vertical-align: middle; }

        .signal-card { padding: 20px; border-radius: 15px; font-weight: bold; text-align: center; font-size: 1.3rem; margin-bottom: 25px; border: 1px solid rgba(255,255,255,0.1); transition: 0.3s; }
        
        #chart-container { height: 450px; background: var(--card); border-radius: 15px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); margin-bottom: 25px; }
        
        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .info-card { background: var(--card); padding: 15px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.05); }
        .label { color: #94a3b8; font-size: 0.75rem; display: block; margin-bottom: 5px; }
        .value { font-size: 1rem; font-weight: 600; }
        
        .up { color: #22c55e; }
        .down { color: #ef4444; }
        .loading-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); display: flex; align-items: center; justify-content: center; z-index: 999; }
    </style>
</head>
<body>

    <div id="loader" class="loading-overlay">
        <div class="text-center">
            <div class="spinner-border text-info mb-2"></div>
            <p>‡¶≤‡¶æ‡¶á‡¶≠ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡¶ø‡¶ô‡ßç‡¶ï ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
        </div>
    </div>

    <nav class="navbar mb-4">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <div class="logo-placeholder"></div>
                CRYPTORADAR <span style="color:var(--accent)">24/7</span>
            </a>
        </div>
    </nav>

    <div class="container">
        <div class="d-flex align-items-center mb-4">
            <img id="coin-logo" src="" style="width: 50px; height: 50px; margin-right: 15px; border-radius: 50%;">
            <div>
                <h1 id="coin-name" class="h3 mb-0">---</h1>
                <span id="coin-symbol" class="text-secondary text-uppercase">---</span>
            </div>
            <div class="ms-auto text-end">
                <h2 id="live-price" class="h4 mb-0">$0.00</h2>
                <span id="price-change" class="small">0.00%</span>
            </div>
        </div>

        <div id="signal-box" class="signal-card">
            ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...
        </div>

        <div id="chart-container">
            <div id="tv-chart" style="height: 100%;"></div>
        </div>
        

        <div class="info-grid">
            <div class="info-card"><span class="label">‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü ‡¶∞‚Äç‡ßç‡¶Ø‡¶æ‡¶ô‡ßç‡¶ï</span><span id="rank" class="value">---</span></div>
            <div class="info-card"><span class="label">‡ß®‡ß™‡¶ò‡¶£‡ßç‡¶ü‡¶æ ‡¶π‡¶æ‡¶á (High)</span><span id="high" class="value">---</span></div>
            <div class="info-card"><span class="label">‡ß®‡ß™‡¶ò‡¶£‡ßç‡¶ü‡¶æ ‡¶≤‡ßã (Low)</span><span id="low" class="value">---</span></div>
            <div class="info-card"><span class="label">‡¶ü‡ßã‡¶ü‡¶æ‡¶≤ ‡¶≠‡¶≤‡¶ø‡¶â‡¶Æ</span><span id="volume" class="value">---</span></div>
        </div>

        <div class="mt-4 text-center text-secondary small">
            --- AI Analytics Engine v2.0 ---
        </div>
    </div>

    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>

    <script>
        async function initDetails() {
            const params = new URLSearchParams(window.location.search);
            const coinId = params.get('coin') || 'bitcoin';

            try {
                const res = await fetch(`https://api.coingecko.com/api/v3/coins/${coinId}?localization=false&sparkline=false`);
                const data = await res.json();
                const mData = data.market_data;

                // ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
                document.getElementById('coin-logo').src = data.image.large;
                document.getElementById('coin-name').innerText = data.name;
                document.getElementById('coin-symbol').innerText = data.symbol;
                document.getElementById('live-price').innerText = `$${mData.current_price.usd.toLocaleString()}`;
                
                const change = mData.price_change_percentage_24h;
                const changeEl = document.getElementById('price-change');
                changeEl.innerText = `${change.toFixed(2)}%`;
                changeEl.className = change >= 0 ? 'up' : 'down';

                document.getElementById('rank').innerText = `#${data.market_cap_rank}`;
                document.getElementById('high').innerText = `$${mData.high_24h.usd.toLocaleString()}`;
                document.getElementById('low').innerText = `$${mData.low_24h.usd.toLocaleString()}`;
                document.getElementById('volume').innerText = `$${mData.total_volume.usd.toLocaleString()}`;

                // ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶≤‡¶ú‡¶ø‡¶ï (AI ANALYSIS)
                const signalBox = document.getElementById('signal-box');
                if (change > 3) {
                    signalBox.innerHTML = "üöÄ STRONG BUY - ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü ‡¶â‡¶™‡¶∞‡ßá ‡¶Ø‡¶æ‡¶ö‡ßç‡¶õ‡ßá";
                    signalBox.style.color = "#22c55e";
                    signalBox.style.background = "rgba(34, 197, 94, 0.1)";
                    signalBox.style.borderColor = "#22c55e";
                } else if (change < -3) {
                    signalBox.innerHTML = "‚ö†Ô∏è STRONG SELL - ‡¶∞‡¶ø‡¶∏‡ßç‡¶ï ‡¶Ü‡¶õ‡ßá, ‡¶∏‡ßá‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®";
                    signalBox.style.color = "#ef4444";
                    signalBox.style.background = "rgba(239, 68, 68, 0.1)";
                    signalBox.style.borderColor = "#ef4444";
                } else {
                    signalBox.innerHTML = "‚öñÔ∏è NEUTRAL - ‡¶π‡ßã‡¶≤‡ßç‡¶° ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶¨‡¶æ ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®";
                    signalBox.style.color = "#eab308";
                    signalBox.style.background = "rgba(234, 179, 8, 0.1)";
                    signalBox.style.borderColor = "#eab308";
                }

                // ‡¶ö‡¶æ‡¶∞‡ßç‡¶ü ‡¶≤‡ßã‡¶°
                new TradingView.widget({
                    "autosize": true,
                    "symbol": "BINANCE:" + data.symbol.toUpperCase() + "USDT",
                    "interval": "60",
                    "theme": "dark",
                    "style": "1",
                    "container_id": "tv-chart",
                    "locale": "en",
                    "enable_publishing": false,
                    "hide_top_toolbar": false,
                    "save_image": false
                });

                document.getElementById('loader').style.display = 'none';

            } catch (error) {
                document.getElementById('loader').innerHTML = "‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶¶‡¶ø‡¶®‡•§";
            }
        }
        initDetails();
    </script>
</body>
</html>
